{% extends 'base.html' %}

{% block css %}
{% endblock %}

{% block inicio_sesion%}
<br>
{%if perfil == 'admin' or perfil == 'cliente'%}
{{usuario.username}}
{% else %}
<div class="col-12 col-sm-6 col-md-6 ms-auto text-end">
  <a href="{% url 'index' %}" class="boton-enlace">volver</a>
{% endif %}
{% endblock %}


{% block contenido %}

<h1> Registrar Usuario </h1>
<br>
<br>
<br>
    <center>
        {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{message.tags}} alert-dismissible fade show" role='alert'>
            {{ message }}
            <button type= "button" class="btn-close" data-bs-dissmiss="alert" aria-label="close"></button>
          </div>
        {% endfor %}
        {% endif %}
        </center>
        <form id="formulario_registro" action=""  method="post">
        {% csrf_token %}
        

        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 mb-3">
                    <label for="" class="form-label"> Nombre Completo </label>
                    <input type="text" class="form-control" name="first_name" id="first_name"
                        placeholder="Ingrese Nombre Completo">
                    <small class="text-danger" id="nombre-error"> </small>
                </div>
            </div>
        </div>
        <br>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 mb-3">
                    <label for="" class="form-label"> Nombre de Usuario </label>
                    <input type="text" class="form-control" name="username" id="username"
                        placeholder="Ingrese Nombre de Usuario">
                    <small class="text-danger" id="NombreUsuario-error"> </small>
                
                </div>
                <div class="col-6 mb-3">
                    <label for="" class="form-label"> Ingrese Contraseña </label>
                    <input type="text" class="form-control" name="password" id="password"
                        placeholder="longitud entre 6 y 18 caracteres">
                    

                </div>
                <div class="col-6 mb-3">
                    <label for="" class="form-label"> Confirme Contraseña </label>
                    <input type="text" class="form-control" name="password2" id="password2"
                        placeholder="Debe Ser igual A Contraseña">
                    
                </div>
                {% if password.value == password2.value%}
                    

                    <div class="col-6 mb-3">
                        <label for="" class="form-label"> Ingrese Correo Electronico </label>
                        <input type="email" class="form-control" name="email" id="email" placeholder="name@example.com">
                        <small class="text-danger" id="Correo-error"> </small>
                    </div>
                    <div class="col-6 mb-3">
                        <label for="" class="form-label">Rol</label>
                        <select class="form-select" aria-label="Default select example" id="roles" onchange="cambiarRoles()">
                          <option selected>Seleccione un rol</option>
                          <option value="1">Admin</option>
                          <option value="2">Cliente</option>
                        </select>
                      </div>
                    <center>
                        <div class="d-grid" class="mb-3">
                            <div class="container">
                                <div class="row justify-content-center">
                                    <br>
                                <button type="submit" class="boton2">Registrarse</button>
                                <button type="reset" class="boton2">Limpiar</button>
                                <br>
                {% endif %}  
                            </div>
                        </div>
                    </div>
                </center>
            </div>
        </form>
    <footer>

        <h5> @Copyright Lhia Cadiz /Juan Miranda </h5>

    </footer>
    {% endblock %}